# ITMO Master‚Äôs Programs RAG Telegram Bot

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –æ –º–∞–≥–∏—Å—Ç–µ—Ä—Å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –ò–¢–ú–û ¬´AI-product¬ª –∏ ¬´–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç¬ª.  
–í –æ—Å–Ω–æ–≤–µ –ª–µ–∂–∏—Ç Retrieval-Augmented Generation (RAG): –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. –ü–∞—Ä—Å–∏—Ç —Å–∞–π—Ç –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ –ò–¢–ú–û,  
2. –°–∫–∞—á–∏–≤–∞–µ—Ç PDF-—É—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º,  
3. –†–∞–∑–±–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞–Ω–∫–∏,  
4. –í–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç —á–µ—Ä–µ–∑ **SentenceTransformers + FAISS**,  
5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã —Å –ø–æ–º–æ—â—å—é **–ª–æ–∫–∞–ª—å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–≥–æ Qwen3-8B-AWQ –Ω–∞ vLLM** (–∏–ª–∏ `gpt-3.5-turbo` —á–µ—Ä–µ–∑ OpenAI).

---

## –§–∏—á–∏

- üîç **–í–µ–±-–ø–∞—Ä—Å–∏–Ω–≥** —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–≥—Ä–∞–º–º –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF ¬´–£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω¬ª  
- üìö **RAG-–∫–æ–Ω–≤–µ–π–µ—Ä**:  
  - Chunking —Ç–µ–∫—Å—Ç–∞  
  - Embeddings —á–µ—Ä–µ–∑ `sentence-transformers`  
  - Fast similarity search —Å **FAISS**  
- ü§ñ **Telegram-–±–æ—Ç** –Ω–∞ `python-telegram-bot`  
- üöÄ **vLLM-—Å–µ—Ä–≤–µ—Ä** —Å OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º API –¥–ª—è Qwen3-8B-AWQ  
- üì¶ **Docker Compose**: –µ–¥–∏–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–æ—Ç–∞ + vLLM  
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** (pytest) –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –∏ RAG-pipeline

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

‚îú‚îÄ‚îÄ .env # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml # Docker Compose –¥–ª—è bot + vllm
‚îú‚îÄ‚îÄ Dockerfile.bot # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ Dockerfile.vllm # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ vLLM-—Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements.txt # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ data
‚îÇ ‚îú‚îÄ‚îÄ programs.json # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º
‚îÇ ‚îî‚îÄ‚îÄ pdfs # –°–∫–∞—á–∞–Ω–Ω—ã–µ —É—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã
‚îú‚îÄ‚îÄ scripts
‚îÇ ‚îî‚îÄ‚îÄ run_rag_demo.py # CLI-–¥–µ–º–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è RAG
‚îú‚îÄ‚îÄ src
‚îÇ ‚îú‚îÄ‚îÄ bot.py # –ö–æ–¥ Telegram-–±–æ—Ç–∞
‚îÇ ‚îú‚îÄ‚îÄ parsers
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ html_parser.py # –í–µ–±-–ø–∞—Ä—Å–µ—Ä + —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ pdf_parser.py # PDF-–ø–∞—Ä—Å–µ—Ä
‚îÇ ‚îî‚îÄ‚îÄ rag
‚îÇ ‚îî‚îÄ‚îÄ openai_pipeline.py# RAGService (FAISS + OpenAI/vLLM)
‚îî‚îÄ‚îÄ tests # pytest-—Ç–µ—Å—Ç—ã

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker ‚â• 20.10  
- docker-compose ‚â• 1.29  
- Python 3.10‚Äì3.12 (–ª–æ–∫–∞–ª—å–Ω–æ)  
- NVIDIA GPU + –¥—Ä–∞–π–≤–µ—Ä—ã (–¥–ª—è vLLM-GPU)

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```dotenv
# .env

# –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–Ω–µ—à–Ω–∏–π OpenAI:
OPENAI_API_KEY=           # –í–∞—à –∫–ª—é—á OpenAI.com
OPENAI_API_BASE=https://api.openai.com/v1

# –ò–ª–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ vLLM:
# OPENAI_API_KEY=
OPENAI_API_BASE=http://vllm:8000/v1

# –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (vLLM vs OpenAI)
OPENAI_MODEL_NAME=Qwen/Qwen3-8B-AWQ

# Telegram Bot API token
TELEGRAM_TOKEN=TOKEN


–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)
–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
python -m venv .venv
source .venv/bin/activate   # Linux/Mac
.venv\Scripts\activate      # Windows
